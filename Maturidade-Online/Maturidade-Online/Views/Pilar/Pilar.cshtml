@model  Maturidade_Online.Models.PilarViewModel
@{
    ViewBag.Title = "Pilar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="mainbox col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2">
    @using (Html.BeginForm("Salvar", "Pilar", FormMethod.Post, new { @class = "form-horizontal div-margin-top" }))
    {
        @Html.AntiForgeryToken()

        @Html.HiddenFor(model => model.Id)

        <div class="alerta-erro">
            @Html.ValidationSummary(true, "", new { @class = "alert-danger" })
        </div>
        if (TempData["MensagemSucesso"] != null)
        {
            <div class="alert alert-success">
                <strong>Sucesso!</strong> @TempData["MensagemSucesso"]
            </div>
        }

        <div class="panel panel-info panel-manter">
            <div class="panel-heading">
                <div class="panel-title text-center">Pilares</div>
            </div>

            <div class="col-md-12 login-item">
                <div class="input-group">
                    <span class="input-group-addon"><i class="glyphicon glyphicon-plus"></i></span>
                    @Html.TextBoxFor(model => model.Titulo, new { @class = "form-control", placeholder = "Nome do Pilar" })
                </div>
                <div class="col-md-12">
                    @Html.ValidationMessageFor(model => model.Titulo)
                </div>
            </div>

            <div class="col-sm-12">
                <input id="cadastrar-pilar" type="submit" class="btn btn-sm btn-block btn-padrao" value="Salvar" />
            </div>
        </div>
    }


    @if (Model.Subtopicos != null)
    {
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="text-center">Subtópico</th>
                    <th class="text-center">Pontuação</th>
                </tr>
            </thead>
            <tbody>

                @if (Model.Subtopicos.Count == 0)
                {
                    <tr>
                        <td colspan="12">Nenhum subtópico encontrado.</td>
                    </tr>
                }
                else
                {
                    foreach (var subtopico in Model.Subtopicos)
                    {
                        <tr>
                            <td>@subtopico.Nome</td>
                            <td class="text-center">@subtopico.Pontuacao</td>
                        </tr>
                    }
                }

            </tbody>
        </table>
    }

    <div class="col-md-12">
        <a href="/Subtopico/Manter" class="btn btn-sm btn-block btn-primary">Cadastrar Subtópico</a>
    </div>

</div>

@section scripts {
    @Scripts.Render("~/bundles/jqueryval")
}